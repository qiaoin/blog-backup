<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-04-02 Sun 16:31 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>pythonchallenge解题报告</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="qiaoin" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="css/site.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<div class="header">
              <a href="https://aprilwith.me">自在随心</a> | <a href="http://github.com/qiaoin">Github</a>
          </div>
</div>
<div id="content">
<h1 class="title">pythonchallenge解题报告</h1>
<p>
<a href="http://www.pythonchallenge.com/">python challenge</a> 一个网页闯关游戏，通过一些提示找出下一关的网页地址。本文是自己在闯关过程中的一些思路整理。
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org1561dd9">Problem 0: 0</a></li>
<li><a href="#org2e1239b">Problem 1: 274877906944</a></li>
<li><a href="#org461b46e">Problem 2: ocr</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1561dd9" class="outline-2">
<h2 id="org1561dd9"><a href="http://www.pythonchallenge.com/pc/def/0.html">Problem 0: 0</a></h2>
<div class="outline-text-2" id="text-org1561dd9">
<p>
图片中显示的是 2 的 38 次方 $2<sup>38</sup>$，直接使用 <code>python</code> 进行计算即可
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #8a47ce;">url</span> = <span style="color: #183691;">"http://www.pythonchallenge.com/pc/def/{0}.html"</span>.<span style="color: #a71d5d;">format</span><span style="color: #969896;">(</span><span style="color: #a71d5d;">str</span><span style="color: #0086b3;">(</span><span style="color: #0086b3;">2</span> ** <span style="color: #0086b3;">38</span><span style="color: #0086b3;">)</span><span style="color: #969896;">)</span>
<span style="color: #969896;"># </span><span style="color: #969896;">http://www.pythonchallenge.com/pc/def/274877906944.html</span>
</pre>
</div>

<div class="HTML">
<p>
&lt;div class="tip"&gt;
这里就有一个问题，Python 在进行数学运算时候，需要去考虑精度问题什么的么？如果不考虑，为什么不需要去考虑？如果考虑了，我们应该在以后的编程中注意什么？（这里我不知道该如何提问）
&lt;/div&gt;
</p>

</div>
</div>
</div>

<div id="outline-container-org2e1239b" class="outline-2">
<h2 id="org2e1239b"><a href="http://www.pythonchallenge.com/pc/def/map.html">Problem 1: 274877906944</a></h2>
<div class="outline-text-2" id="text-org2e1239b">
<p>
由图中的映射关系，K-&gt;M，O-&gt;P，E-&gt;G，可以看出它是将字母表中的每个字母顺次往后平移两次。对下方的一串文字进行此操作即可。
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #057c00;">hints</span> = <span style="color: #183691;">'''g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq </span>
<span style="color: #183691;">ypc dmp. bmgle gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr </span>
<span style="color: #183691;">gq qm jmle. sqgle qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj.'''</span>
<span style="color: #d3007e;">intab</span> = <span style="color: #00859d;">string</span>.<span style="color: #a934bb;">ascii_lowercase</span>
<span style="color: #da004e;">transtab</span> = <span style="color: #a71d5d;">str</span>.<span style="color: #965f00;">maketrans</span><span style="color: #969896;">(</span><span style="color: #d3007e;">intab</span>, <span style="color: #d3007e;">intab</span><span style="color: #0086b3;">[</span><span style="color: #0086b3;">2</span>:<span style="color: #0086b3;">]</span> + <span style="color: #d3007e;">intab</span><span style="color: #0086b3;">[</span>:<span style="color: #0086b3;">2</span><span style="color: #0086b3;">]</span><span style="color: #969896;">)</span>
<span style="color: #cb2b11;">print</span><span style="color: #969896;">(</span><span style="color: #057c00;">hints</span>.<span style="color: #0076f2;">translate</span><span style="color: #0086b3;">(</span><span style="color: #da004e;">transtab</span><span style="color: #0086b3;">)</span><span style="color: #969896;">)</span>
<span style="color: #969896;"># </span><span style="color: #969896;">i hope you didnt translate it by hand. thats what computers are for. </span>
<span style="color: #969896;"># </span><span style="color: #969896;">doing it in by hand is inefficient and that's why this text is so long. </span>
<span style="color: #969896;"># </span><span style="color: #969896;">using string.maketrans() is recommended. now apply on the url.</span>
<span style="color: #cb2b11;">print</span><span style="color: #969896;">(</span><span style="color: #183691;">"map"</span>.<span style="color: #0076f2;">translate</span><span style="color: #0086b3;">(</span><span style="color: #da004e;">transtab</span><span style="color: #0086b3;">)</span><span style="color: #969896;">)</span> <span style="color: #969896;"># </span><span style="color: #969896;">ocr</span>
<span style="color: #969896;"># </span><span style="color: #969896;">http://www.pythonchallenge.com/pc/def/ocr.html</span>
</pre>
</div>

<p>
在看到提示 <code>“using string.maketrans() is recommended”</code> 之前，我是在手动构造一个字典映射关系，但是就遇到了问题，因为字符串 <code>str</code> 是不可变对象，
每次对一个字符进行替换之后就要去考虑应该如何去保存，后来就想到每次都调用 <code>str.replace()</code> ，这样手动去实现一个映射替换太麻烦了。
</p>

<p>
<code>str.maketrans()</code> 这是一个 <code>python</code> 中的内建函数（ <code>built-in function</code> ），在标准库中的描述如下：
</p>

<blockquote>
<p>
Help on built-in function maketrans:
</p>

<p>
maketrans(x, y=None, z=None, /)  Return a translation table usable for str.translate().
</p>

<p>
If there is only one argument, it must be a dictionary mapping Unicode ordinals (integers)
</p>

<p>
or characters to Unicode ordinals, strings or None. Character keys will be then converted
</p>

<p>
to ordinals. If there are two arguments, they must be strings of equal length, and in the
</p>

<p>
resulting dictionary, each character in x will be mapped to the character at the same position
</p>

<p>
in y. If there is a third argument, it must be a string, whose characters will be mapped to
</p>

<p>
None in the result.
</p>
</blockquote>

<p>
<code>str.maketrans()</code> 就是去构造一个映射表，这个映射表定义了 <code>str.translate()</code> 转换关系。根据 <code>maketrans()</code> 参数的个数，可以分为以下三类：
</p>

<p>
1.仅有一个参数时，就必须是一个字典，将 <code>Unicode</code> 字符序或者字符映射到 <code>Unicode</code> 字符序。
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #cb2b11;">print</span><span style="color: #969896;">(</span><span style="color: #183691;">'!1@2#3$4'</span>.<span style="color: #0076f2;">translate</span><span style="color: #0086b3;">(</span><span style="color: #969896;">{</span><span style="color: #a71d5d;">ord</span><span style="color: #795da3;">(</span><span style="color: #796b00;">i</span><span style="color: #795da3;">)</span>:<span style="color: #0086b3;">None</span> <span style="color: #0082da;">for</span> <span style="color: #796b00;">i</span> <span style="color: #7a6b00;">in</span> <span style="color: #183691;">'!@#$'</span><span style="color: #969896;">}</span><span style="color: #0086b3;">)</span><span style="color: #969896;">)</span>  <span style="color: #969896;"># </span><span style="color: #969896;">&#21024;&#38500;&#65306;1234</span>
</pre>
</div>

<p>
2.有两个参数时，这两个参数为等长度的字符串，在进行映射时就是将前一个字符串某一位置上的字符变换为后面字符串相同位置上的字符。
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #c63400;">import</span> <span style="color: #00859d;">string</span>
<span style="color: #da004e;">transtab</span> = <span style="color: #a71d5d;">str</span>.<span style="color: #965f00;">maketrans</span><span style="color: #969896;">(</span><span style="color: #00859d;">string</span>.<span style="color: #a934bb;">ascii_lowercase</span>, <span style="color: #00859d;">string</span>.<span style="color: #0071f2;">ascii_uppercase</span><span style="color: #969896;">)</span>
<span style="color: #cb2b11;">print</span><span style="color: #969896;">(</span><span style="color: #183691;">'http://qiaoin.github.io'</span>.<span style="color: #0076f2;">translate</span><span style="color: #0086b3;">(</span><span style="color: #da004e;">transtab</span><span style="color: #0086b3;">)</span><span style="color: #969896;">)</span>  <span style="color: #969896;"># </span><span style="color: #969896;">'HTTP://QIAOIN.GITHUB.IO'</span>
</pre>
</div>

<p>
3.有三个参数，如果存在第三个参数，它定义了一些应该被删除（或者理解为过滤）掉的字符。
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #c63400;">import</span> <span style="color: #00859d;">string</span>
<span style="color: #da004e;">transtab</span> = <span style="color: #a71d5d;">str</span>.<span style="color: #965f00;">maketrans</span><span style="color: #969896;">(</span><span style="color: #00859d;">string</span>.<span style="color: #a934bb;">ascii_lowercase</span>, <span style="color: #00859d;">string</span>.<span style="color: #0071f2;">ascii_uppercase</span>, <span style="color: #183691;">'!@#$%^&amp;*'</span><span style="color: #969896;">)</span>
<span style="color: #cb2b11;">print</span><span style="color: #969896;">(</span><span style="color: #183691;">'h@%tt^##p:%*@/%^/&amp;q@iao*(in#^&amp;git*@hub(&amp;^*%^&amp;%.^&amp;io*'</span>.<span style="color: #0076f2;">translate</span><span style="color: #0086b3;">(</span><span style="color: #da004e;">transtab</span><span style="color: #0086b3;">)</span><span style="color: #969896;">)</span>  <span style="color: #969896;"># </span><span style="color: #969896;">'HTTP://QIAOIN.GITHUB.IO'</span>
</pre>
</div>

<p>
<code>str.translate(table)</code> 也是内建函数，描述如下：
</p>

<blockquote>
<p>
Help on method<sub>descriptor</sub>: 
</p>

<p>
S.translate(table) -&gt; str
</p>

<p>
Return a copy of the string S, where all characters have been mapped
</p>

<p>
through the given translation table, which must be a mapping of
</p>

<p>
Unicode ordinals to Unicode ordinals, strings, or None.
</p>

<p>
Unmapped characters are left untouched. Characters mapped to None are deleted.
</p>
</blockquote>

<p>
<code>str.translate(table)</code> 就是使用 <code>table</code> 所定义的映射关系，在所调用的字符串上执行映射，可能是 <code>Unicode</code> 字符互相映射，
也可能是映射为 <code>None</code> ，即删除这个字符。那些没有定义映射关系的字符，保持。
</p>

<p>
注1：还需要一些说明的是，在 Python3 中， <code>string.maketrans()</code> 已经被 <code>deprecated</code> 了，转而使用静态方法来替代
 <code>static str.maketrans()</code> 。现在，对 <code>str</code> ， <code>bytes</code> ， <code>bytearray</code> 每个都有着与之所对应的 <code>aketrans()</code> 和 <code>translate()</code> 方法，
这样就解决了原先 <code>string</code> 模块中 <code>string.maketrans()</code> 函数到底支持的类型的问题。
</p>

<p>
注2：要区分 <code>string</code> 类型和 <code>bytes</code> 类型。在 Python3 中， <code>string</code> 不是 <code>bytes</code> 。 <code>string</code> 是 <code>Unicode</code> ，使用 <code>"..."</code> 
或者 <code>'...'</code> 表示；而 <code>bytes</code> 是 <code>bytes</code> ，使用 <code>b"..."</code> 或者 <code>b'...'</code> 表示。
</p>

<p>
注1和注2均参考 <a href="http://stackoverflow.com/questions/3031045/how-come-string-maketrans-does-not-work-in-python-3-1%20%22How%20come%20string.maketrans%20does%20not%20work%20in%20Python%203.1?%22">How come string.maketrans does not work in Python 3.1?</a> 
</p>
</div>
</div>

<div id="outline-container-org461b46e" class="outline-2">
<h2 id="org461b46e"><a href="http://www.pythonchallenge.com/pc/def/ocr.html">Problem 2: ocr</a></h2>
<div class="outline-text-2" id="text-org461b46e">
<p>
<b>TODO</b>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="sitemap"><a href="https://aprilwith.me/index.html">Other posts</a></div>
              <div id="disqus_thread"></div>
              <script type="text/javascript">
              /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
              var disqus_shortname = 'bastibe';
              /* * * DON'T EDIT BELOW THIS LINE * * */
              (function() {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
              </script>
              <noscript>Please enable JavaScript to view the
                  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
              <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</body>
</html>
